<div class="card">
    <div class="card-header">Typeahead</div>
    <div class="card-block">
        A typeahead example that gets values from a static <code>string[]</code>
        <ul>
        <li><code>debounceTime</code> operator</li>
        <li>kicks in only if 2+ characters typed</li>
        <li>limits to 10 results</li>
        </ul>

        <input type="text" class="form-control" [(ngModel)]="state" [ngbTypeahead]="searchState"
               [resultFormatter]="formatter" />
        <hr>
        <pre>State: {{ state | json }}</pre>
    </div>
</div>

<div class="card">
    <div class="card-header">Template for results</div>
    <div class="card-block">
        <p>A typeahead example that uses custom template for results display and uses object as a model</p>

        <template #rt let-r="result" let-t="term">
            <img [src]="'https://upload.wikimedia.org/wikipedia/commons/thumb/' + r.flag" width="16">
            {{ r.name}}
        </template>

        <input type="text" class="form-control" [(ngModel)]="state2" [ngbTypeahead]="search2" [resultTemplate]="rt" [inputFormatter]="formatter2" />
        <hr>
        <pre>Model: {{ state2 | json }}</pre>
    </div>
</div>

<div class="card">
    <div class="card-header">Wikipedia search</div>
    <div class="card-block">
        A typeahead example that gets values from the <code>WikipediaService</code>
        <ul>
        <li>remote data retrieval</li>
        <li><code>debounceTime</code> operator</li>
        <li><code>do</code> operator</li>
        <li><code>distinctUntilChanged</code> operator</li>
        <li><code>switchMap</code> operator</li>
        </ul>

        <input type="text" class="form-control" [(ngModel)]="wikiResult" [ngbTypeahead]="searchWiki" placeholder="Wikipedia search" />
        <span *ngIf="_searchingWiki"> searching...</span>

        <hr>
        
        <pre>Model: {{ wikiResult | json }}</pre>
    </div>
</div>